(function(j,k,h,i){var g=j.fn.twbsPagination;var l=function(a,c){this.$element=j(a);this.options=j.extend({},j.fn.twbsPagination.defaults,c);if(this.options.startPage<1||this.options.startPage>this.options.totalPages){throw new Error("Start page option is incorrect")}this.options.totalPages=parseInt(this.options.totalPages);if(isNaN(this.options.totalPages)){throw new Error("Total pages option is not correct!")}this.options.visiblePages=parseInt(this.options.visiblePages);if(isNaN(this.options.visiblePages)){throw new Error("Visible pages option is not correct!")}if(this.options.totalPages==1){return this}if(this.options.totalPages<this.options.visiblePages){this.options.visiblePages=this.options.totalPages}if(this.options.onPageClick instanceof Function){this.$element.first().on("page",this.options.onPageClick)}if(this.options.href){this.options.startPage=this.getPageFromQueryString();if(!this.options.startPage){this.options.startPage=1}}var b=(typeof this.$element.prop==="function")?this.$element.prop("tagName"):this.$element.attr("tagName");if(b==="UL"){this.$listContainer=this.$element}else{this.$listContainer=j("<ul></ul>")}this.$listContainer.addClass(this.options.paginationClass);if(b!=="UL"){this.$element.append(this.$listContainer)}if(this.options.initiateStartPageClick){this.show(this.options.startPage)}else{this.render(this.getPages(this.options.startPage));this.setupEvents()}return this};l.prototype={constructor:l,destroy:function(){this.$element.empty();this.$element.removeData("twbs-pagination");this.$element.off("page");return this},show:function(a){if(a<1||a>this.options.totalPages){throw new Error("Page is incorrect.")}this.currentPage=a;this.render(this.getPages(a));this.setupEvents();this.$element.trigger("page",a);return this},buildListItems:function(e){var a=[];if(this.options.first){a.push(this.buildItem("first",1))}if(this.options.prev){var b=e.currentPage>1?e.currentPage-1:this.options.loop?this.options.totalPages:1;a.push(this.buildItem("prev",b))}for(var d=0;d<e.numeric.length;d++){a.push(this.buildItem("page",e.numeric[d]))}if(this.options.next){var c=e.currentPage<this.options.totalPages?e.currentPage+1:this.options.loop?1:this.options.totalPages;a.push(this.buildItem("next",c))}if(this.options.last){a.push(this.buildItem("last",this.options.totalPages))}return a},buildItem:function(c,b){var a=j("<li></li>"),d=j("<a></a>"),e=this.options[c]?this.makeText(this.options[c],b):b;a.addClass(this.options[c+"Class"]);a.data("page",b);a.data("page-type",c);a.append(d.attr("href",this.makeHref(b)).addClass(this.options.anchorClass).html(e));return a},getPages:function(c){var f=[];var b=Math.floor(this.options.visiblePages/2);var a=c-b+1-this.options.visiblePages%2;var e=c+b;if(a<=0){a=1;e=this.options.visiblePages}if(e>this.options.totalPages){a=this.options.totalPages-this.options.visiblePages+1;e=this.options.totalPages}var d=a;while(d<=e){f.push(d);d++}return{currentPage:c,numeric:f}},render:function(c){var a=this;this.$listContainer.children().remove();var b=this.buildListItems(c);jQuery.each(b,function(e,d){a.$listContainer.append(d)});this.$listContainer.children().each(function(){var d=j(this),e=d.data("page-type");switch(e){case"page":if(d.data("page")===c.currentPage){d.addClass(a.options.activeClass)}break;case"first":d.toggleClass(a.options.disabledClass,c.currentPage===1);break;case"last":d.toggleClass(a.options.disabledClass,c.currentPage===a.options.totalPages);break;case"prev":d.toggleClass(a.options.disabledClass,!a.options.loop&&c.currentPage===1);break;case"next":d.toggleClass(a.options.disabledClass,!a.options.loop&&c.currentPage===a.options.totalPages);break;default:break}})},setupEvents:function(){var a=this;this.$listContainer.off("click").on("click","li",function(c){var b=j(this);if(b.hasClass(a.options.disabledClass)||b.hasClass(a.options.activeClass)){return false}!a.options.href&&c.preventDefault();a.show(parseInt(b.data("page")))})},makeHref:function(a){return this.options.href?this.generateQueryString(a):"#"},makeText:function(a,b){return a.replace(this.options.pageVariable,b).replace(this.options.totalPagesVariable,this.options.totalPages)},getPageFromQueryString:function(d){var c=this.getSearchString(d),b=new RegExp(this.options.pageVariable+"(=([^&#]*)|&|#|$)"),a=b.exec(c);if(!a||!a[2]){return null}a=decodeURIComponent(a[2]);a=parseInt(a);if(isNaN(a)){return null}return a},generateQueryString:function(d,c){var b=this.getSearchString(c),a=new RegExp(this.options.pageVariable+"=*[^&#]*");if(!b){return""}return"?"+b.replace(a,this.options.pageVariable+"="+d)},getSearchString:function(b){var a=b||k.location.search;if(a===""){return null}if(a.indexOf("?")===0){a=a.substr(1)}return a}};j.fn.twbsPagination=function(d){var e=Array.prototype.slice.call(arguments,1);var b;var a=j(this);var c=a.data("twbs-pagination");var f=typeof d==="object"?d:{};if(!c){a.data("twbs-pagination",(c=new l(this,f)))}if(typeof d==="string"){b=c[d].apply(c,e)}return(b===i)?a:b};j.fn.twbsPagination.defaults={totalPages:1,startPage:1,visiblePages:5,initiateStartPageClick:true,href:false,pageVariable:"{{page}}",totalPagesVariable:"{{total_pages}}",page:null,first:"First",prev:"Previous",next:"Next",last:"Last",loop:false,onPageClick:null,paginationClass:"pagination",nextClass:"page-item next",prevClass:"page-item prev",lastClass:"page-item last",firstClass:"page-item first",pageClass:"page-item",activeClass:"active",disabledClass:"disabled",anchorClass:"page-link"};j.fn.twbsPagination.Constructor=l;j.fn.twbsPagination.noConflict=function(){j.fn.twbsPagination=g;return this};j.fn.twbsPagination.version="1.4"})(window.jQuery,window,document);