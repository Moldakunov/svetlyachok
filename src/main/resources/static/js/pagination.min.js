var sortField="",direction="";function getPageData(c){var a="";var e=[];var b="";for(var d in c){if(c.hasOwnProperty(d)){e.push(c[d])}}e.forEach(function(f){if(Boolean(f.imageUrl)){b=f.imageUrl}else{b="/img/no-photo-small.jpg"}a+='<div class="col-xl-2 col-lg-4 col-md-4 col-sm-6 col-6 "<div class="ps-product"><div class="ps-product__thumbnail"><a href="/product/'+f.seoUrl+'" th:href="/product/'+f.seoUrl+'"><img alt="" src="'+b+'"/></a></div><div class="ps-product__container"><div id="itemContent" class="ps-product__content"><a class="ps-product__title" th:href="/product/'+f.seoUrl+'" href="/product/'+f.seoUrl+'">'+f.nameShort+'</a><p class="ps-product__price">'+f.price+" сом</p></div></div></div></div>"});return a}if($("#totalPages").text()<2){paginate(1)}else{applyPagination()}function applyPagination(){$("#pagination").twbsPagination({totalPages:$("#totalPages").text(),visiblePages:5,first:"Начало",next:"Вперед",prev:"Назад",last:"Конец",paginationClass:"pagination",hideOnlyOnePage:true,onPageClick:function(a,b){paginate(b)}})}function paginate(a){if($("#searchText").val()){$.get("/paginate/search",{pageNumber:a,searchText:document.getElementById("searchText").value,sortField:sortField,direction:direction},function(b){document.getElementById("row").innerHTML=getPageData(b)})}if($("#category").length&&$("#subCategory").length<1){$.get("/paginate/category",{pageNumber:a,categoryName:document.getElementById("category").textContent,sortField:sortField,direction:direction},function(b){document.getElementById("row").innerHTML=getPageData(b)})}if($("#category").length&&$("#subCategory").length){$.get("/paginate/subcategory",{pageNumber:a,categoryName:document.getElementById("category").textContent,subCategoryName:document.getElementById("subCategory").textContent,sortField:sortField,direction:direction},function(b){document.getElementById("row").innerHTML=getPageData(b)})}};