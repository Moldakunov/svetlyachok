$(document).ready(function(){var c;var e=1;var a=parseInt($("#totalCount").text());document.getElementById("p1").classList.add("active");function h(j){var i="";var l=[];for(var k in j){if(j.hasOwnProperty(k)){l.push(j[k])}}l.forEach(function(m){if(Boolean(m.imageUrl)){imageUrl=m.imageUrl}else{imageUrl="/img/no-photo-small.jpg"}i+='<div class="col-xl-3 col-lg-4 col-md-4 col-sm-6 col-6 "<div class="ps-product"><div class="ps-product__thumbnail"><a href="/product/'+m.seoUrl+'"><img alt="" src="'+m.imageUrl+'"/></a></div><div class="ps-product__container"><div id="itemContent" class="ps-product__content"><a class="ps-product__title" href="/product/'+m.seoUrl+'" >'+m.nameShort+'</a><p class="ps-product__price">'+m.price+" сом</p></div></div></div></div>"});return i}function b(j,i){document.getElementById("p"+j).classList.add("active");document.getElementById("p"+i).classList.remove("active");$.get("/pages",{pageNumber:j,searchText:document.getElementById("searchText").value,categoryName:"",subCategoryName:""},function(k){document.getElementById("row").innerHTML=h(k)})}function g(j,i){document.getElementById("p"+j).classList.add("active");document.getElementById("p"+i).classList.remove("active");$.get("/pages",{pageNumber:j,searchText:"",categoryName:document.getElementById("category").textContent,subCategoryName:""},function(k){document.getElementById("row").innerHTML=h(k)})}function f(j,i){document.getElementById("p"+j).classList.add("active");document.getElementById("p"+i).classList.remove("active");$.get("/pages",{pageNumber:j,searchText:"",categoryName:document.getElementById("category").textContent,subCategoryName:document.getElementById("subCategory").textContent},function(k){document.getElementById("row").innerHTML=h(k)})}for(var d=0;d<=a+1;d++){$("#page"+d).click(function(i){i.preventDefault();c=e;document.getElementById("p"+c).classList.remove("active");if(d===0){document.getElementById("p1").classList.add("active");e=1;$.get("/pages",{pageNumber:1},function(j){document.getElementById("row").innerHTML=h(j)})}else{if(d===a+1){document.getElementById("p"+a).classList.add("active");e=a;$.get("/pages",{pageNumber:a},function(j){document.getElementById("row").innerHTML=h(j)})}else{document.getElementById("p"+d).classList.add("active");e=d;$.get("/pages",{pageNumber:d},function(j){document.getElementById("row").innerHTML=h(j)})}}})}$("#prevPage").click(function(){c=e;if(e<=1){e=1}else{e-=1;if($("#searchText").length){b(e,c)}if($("#category").length&&$("#subCategory").length<1){g(e,c)}if($("#category").length&&$("#subCategory").length){f(e,c)}}});$("#nextPage").click(function(){c=e;if(e>=a){e=a}else{e+=1;if($("#searchText").length){b(e,c)}if($("#category").length&&$("#subCategory").length<1){g(e,c)}if($("#category").length&&$("#subCategory").length){f(e,c)}}})});