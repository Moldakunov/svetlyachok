(function(A){var f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;var z={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(z.Android()||z.BlackBerry()||z.iOS()||z.Opera()||z.Windows())}};function h(){A(".bg--parallax").each(function(){var L=A(this),K="50%",M=A(window).height();if(z.any()){A(this).css("background-attachment","scroll")}else{A(window).scroll(function(){var P=A(window).scrollTop(),O=L.offset().top,N=L.outerHeight();if(O+N<P||O>P+M){return}L.css("backgroundPosition",K+" "+Math.round((O-P)*0.2)+"px")})}})}function w(){var K=A("[data-background]");K.each(function(){if(A(this).attr("data-background")){var L=A(this).attr("data-background");A(this).css({background:"url("+L+")"})}})}function o(){var L=A(".navigation--sidebar"),K=A(".ps-filter--sidebar");A(".menu-toggle-open").on("click",function(M){M.preventDefault();A(this).toggleClass("active");L.toggleClass("active");A(".ps-site-overlay").toggleClass("active")});A(".ps-toggle--sidebar").on("click",function(N){if(!A(this).hasClass("cart-link")){N.preventDefault();var M=A(this).attr("href");A(this).toggleClass("active");A(this).siblings("a").removeClass("active");A(M).toggleClass("active");A(M).siblings(".ps-panel--sidebar").removeClass("active");A(".ps-site-overlay").toggleClass("active")}});A("#filter-sidebar").on("click",function(M){M.preventDefault();K.addClass("active");A(".ps-site-overlay").addClass("active")});A(".ps-filter--sidebar .ps-filter__header .ps-btn--close").on("click",function(M){M.preventDefault();K.removeClass("active");A(".ps-site-overlay").removeClass("active")});A("body").on("click",function(M){if(A(M.target).siblings(".ps-panel--sidebar").hasClass("active")){A(".ps-panel--sidebar").removeClass("active");A(".ps-site-overlay").removeClass("active")}})}function q(){A(".menu--mobile .menu-item-has-children > .sub-toggle").on("click",function(M){M.preventDefault();var L=A(this).parent(".menu-item-has-children");A(this).toggleClass("active");L.siblings().find(".sub-toggle").removeClass("active");L.children(".sub-menu").slideToggle(350);L.siblings().find(".sub-menu").slideUp(350);if(L.hasClass("has-mega-menu")){L.children(".mega-menu").slideToggle(350);L.siblings(".has-mega-menu").find(".mega-menu").slideUp(350)}});A(".menu--mobile .has-mega-menu .mega-menu__column .sub-toggle").on("click",function(M){M.preventDefault();var L=A(this).closest(".mega-menu__column");A(this).toggleClass("active");L.siblings().find(".sub-toggle").removeClass("active");L.children(".mega-menu__list").slideToggle(350);L.siblings().find(".mega-menu__list").slideUp(350)});var K=A(".ps-list--categories");if(K.length>0){A(".ps-list--categories .menu-item-has-children > .sub-toggle").on("click",function(M){M.preventDefault();var L=A(this).parent(".menu-item-has-children");A(this).toggleClass("active");L.siblings().find(".sub-toggle").removeClass("active");L.children(".sub-menu").slideToggle(350);L.siblings().find(".sub-menu").slideUp(350);if(L.hasClass("has-mega-menu")){L.children(".mega-menu").slideToggle(350);L.siblings(".has-mega-menu").find(".mega-menu").slideUp(350)}})}}function D(){var N=A(".header"),L=0,M=50;if(N.data("sticky")===true){A(window).scroll(function(){var O=A(this).scrollTop();if(O>M){N.addClass("header--sticky")}else{N.removeClass("header--sticky")}})}else{return false}var K=A("#cart-sticky");if(K.length>0){A(window).scroll(function(){var O=A(this).scrollTop();if(O>M){K.addClass("active")}else{K.removeClass("active")}})}}function m(){var K=A(".owl-slider");if(K.length>0){K.each(function(){var M=A(this),ab=M.data("owl-auto"),T=M.data("owl-loop"),U=M.data("owl-speed"),aa=M.data("owl-gap"),X=M.data("owl-nav"),ac=M.data("owl-dots"),Y=(M.data("owl-animate-in"))?M.data("owl-animate-in"):"",S=(M.data("owl-animate-out"))?M.data("owl-animate-out"):"",V=M.data("owl-item"),O=M.data("owl-item-xs"),W=M.data("owl-item-sm"),Z=M.data("owl-item-md"),R=M.data("owl-item-lg"),Q=M.data("owl-item-xl"),P=(M.data("owl-nav-left"))?M.data("owl-nav-left"):"<i class='icon-chevron-left'></i>",ad=(M.data("owl-nav-right"))?M.data("owl-nav-right"):"<i class='icon-chevron-right'></i>",L=M.data("owl-duration"),N=(M.data("owl-mousedrag")=="on")?true:false;if(K.children("div, span, a, img, h1, h2, h3, h4, h5, h5").length>=2){M.owlCarousel({animateIn:Y,animateOut:S,margin:aa,autoplay:ab,autoplayTimeout:U,autoplayHoverPause:true,loop:T,nav:X,mouseDrag:N,touchDrag:true,autoplaySpeed:L,navSpeed:L,dotsSpeed:L,dragEndSpeed:L,navText:[P,ad],dots:ac,items:V,responsive:{0:{items:O},480:{items:W},768:{items:Z},992:{items:R},1200:{items:Q},1680:{items:V}}})}})}}function i(M){var K=A(M);if(K.length>0){if(K.hasClass("filter")){K.imagesLoaded(function(){K.isotope({columnWidth:".grid-sizer",itemSelector:".grid-item",isotope:{columnWidth:".grid-sizer"},filter:"*"})});var L=K.closest(".masonry-root").find(".ps-masonry-filter > li > a");L.on("click",function(O){O.preventDefault();var N=A(this).attr("href");L.find("a").removeClass("current");A(this).parent("li").addClass("current");A(this).parent("li").siblings("li").removeClass("current");A(this).closest(".masonry-root").find(".ps-masonry").isotope({itemSelector:".grid-item",isotope:{columnWidth:".grid-sizer"},filter:N});return false})}else{K.imagesLoaded(function(){K.masonry({columnWidth:".grid-sizer",itemSelector:".grid-item"})})}}}function u(){var K=A("#contact-map");if(K.length>0){K.gmap3({address:K.data("address"),zoom:K.data("zoom"),mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:false}).marker(function(L){return{position:L.getCenter(),icon:"img/marker.png",}}).infowindow({content:K.data("address")}).then(function(M){var N=this.get(0);var L=this.get(1);L.addListener("click",function(){M.open(N,L)})})}else{return false}}function y(){var N=A(".ps-product--detail");if(N.length>0){var M=N.find(".ps-product__gallery"),L=N.find(".ps-product__variants"),K=N.find(".ps-product__thumbnail").data("vertical");M.slick({slidesToShow:1,slidesToScroll:1,asNavFor:".ps-product__variants",fade:true,dots:false,infinite:false,arrows:M.data("arrow"),prevArrow:"<a href='#'><i class='fa fa-angle-left'></i></a>",nextArrow:"<a href='#'><i class='fa fa-angle-right'></i></a>",});L.slick({slidesToShow:L.data("item"),slidesToScroll:1,infinite:false,arrows:L.data("arrow"),focusOnSelect:true,prevArrow:"<a href='#'><i class='fa fa-angle-up'></i></a>",nextArrow:"<a href='#'><i class='fa fa-angle-down'></i></a>",asNavFor:".ps-product__gallery",vertical:K,responsive:[{breakpoint:1200,settings:{arrows:L.data("arrow"),slidesToShow:4,vertical:false,prevArrow:"<a href='#'><i class='fa fa-angle-left'></i></a>",nextArrow:"<a href='#'><i class='fa fa-angle-right'></i></a>"}},{breakpoint:992,settings:{arrows:L.data("arrow"),slidesToShow:4,vertical:false,prevArrow:"<a href='#'><i class='fa fa-angle-left'></i></a>",nextArrow:"<a href='#'><i class='fa fa-angle-right'></i></a>"}},{breakpoint:480,settings:{slidesToShow:3,vertical:false,prevArrow:"<a href='#'><i class='fa fa-angle-left'></i></a>",nextArrow:"<a href='#'><i class='fa fa-angle-right'></i></a>"}},]})}}function g(){A(".ps-tab-list  li > a ").on("click",function(L){L.preventDefault();var K=A(this).attr("href");A(this).closest("li").siblings("li").removeClass("active");A(this).closest("li").addClass("active");A(K).addClass("active");A(K).siblings(".ps-tab").removeClass("active")});A(".ps-tab-list.owl-slider .owl-item a").on("click",function(L){L.preventDefault();var K=A(this).attr("href");A(this).closest(".owl-item").siblings(".owl-item").removeClass("active");A(this).closest(".owl-item").addClass("active");A(K).addClass("active");A(K).siblings(".ps-tab").removeClass("active")})}function C(){A("select.ps-rating").each(function(){var K;if(A(this).attr("data-read-only")=="true"){K=true}else{K=false}A(this).barrating({theme:"fontawesome-stars",readonly:K,emptyValue:"0"})})}function c(){var K=A(".ps-product--detail");if(K.length>0){A(".ps-product__gallery").lightGallery({selector:".item a",thumbnail:true,share:false,fullScreen:false,autoplay:false,autoplayControls:false,actualSize:false});if(K.hasClass("ps-product--sticky")){A(".ps-product__thumbnail").lightGallery({selector:".item a",thumbnail:true,share:false,fullScreen:false,autoplay:false,autoplayControls:false,actualSize:false})}}A(".ps-gallery--image").lightGallery({selector:".ps-gallery__item",thumbnail:true,share:false,fullScreen:false,autoplay:false,autoplayControls:false,actualSize:false});A(".ps-video").lightGallery({thumbnail:false,share:false,fullScreen:false,autoplay:false,autoplayControls:false,actualSize:false})}function k(){var L=0;var K=A("#back2top");A(window).scroll(function(){var M=A(window).scrollTop();if(M>L){if(M>500){K.addClass("active")}else{K.removeClass("active")}}else{K.removeClass("active")}L=M});K.on("click",function(){A("html, body").animate({scrollTop:"0px"},800)})}function t(){var N=A(".ps-slider");var M=N.siblings().find(".ps-slider__min");var K=N.siblings().find(".ps-slider__max");var P=N.data("default-min");var R=N.data("default-max");var Q=N.data("max");var O=N.data("step");if(N.length>0){N.slider({min:0,max:Q,step:O,range:true,values:[P,R],slide:function(T,U){var S=U.values;M.text("$"+S[0]);K.text("$"+S[1])}});var L=N.slider("option","values");M.text("$"+L[0]);K.text("$"+L[1])}else{}}function B(){var K=A(".ps-modal");if(K.length){if(K.hasClass("active")){A("body").css("overflow-y","hidden")}}K.find(".ps-modal__close, .ps-btn--close").on("click",function(L){L.preventDefault();A(this).closest(".ps-modal").removeClass("active")});A(".ps-modal-link").on("click",function(M){M.preventDefault();var L=A(this).attr("href");A(L).addClass("active");A("body").css("overflow-y","hidden")});A(".ps-modal").on("click",function(L){if(!A(L.target).closest(".ps-modal__container").length){K.removeClass("active");A("body").css("overflow-y","auto")}})}function e(){var K=A(".ps-search");A(".ps-search-btn").on("click",function(L){L.preventDefault();K.addClass("active")});K.find(".ps-btn--close").on("click",function(L){L.preventDefault();K.removeClass("active")})}function j(){var K=A(".ps-countdown");K.each(function(){var M=A(this),O=A(this).data("time");var L=new Date(O).getTime();var N=setInterval(function(){var Q=new Date().getTime(),U=L-Q;var T=Math.floor(U/(1000*60*60*24)),P=Math.floor((U%(1000*60*60*24))/(1000*60*60)),R=Math.floor((U%(1000*60*60))/(1000*60)),S=Math.floor((U%(1000*60))/1000);M.find(".days").html(T);M.find(".hours").html(P);M.find(".minutes").html(R);M.find(".seconds").html(S);if(U<0){clearInterval(N);M.closest(".ps-section").hide()}},1000)})}function E(){A(".ps-filter__trigger").on("click",function(L){L.preventDefault();var K=A(this);K.find(".ps-filter__icon").toggleClass("active");K.closest(".ps-filter").find(".ps-filter__content").slideToggle()});if(A(".ps-sidebar--home").length>0){A(".ps-sidebar--home > .ps-sidebar__header > a").on("click",function(K){K.preventDefault();A(this).closest(".ps-sidebar--home").children(".ps-sidebar__content").slideToggle()})}}function b(){var K=A(".ps-carousel--animate");K.slick({autoplay:true,speed:1000,lazyLoad:"progressive",arrows:false,fade:true,dots:true,prevArrow:"<i class='slider-prev ba-back'></i>",nextArrow:"<i class='slider-next ba-next'></i>"})}function H(){var K=A("#subscribe"),L=K.data("time");setTimeout(function(){if(K.length>0){K.addClass("active");A("body").css("overflow","hidden")}},L);A(".ps-popup__close").on("click",function(M){M.preventDefault();A(this).closest(".ps-popup").removeClass("active");A("body").css("overflow","auto")});A("#subscribe").on("click",function(M){if(!A(M.target).closest(".ps-popup__content").length){K.removeClass("active");A("body").css("overflow-y","auto")}})}function F(){var N=A(".ps-product--sticky"),M,O=992,L=A(window).innerWidth();if(N.length>0){M=new StickySidebar(".ps-product__sticky .ps-product__info",{topSpacing:20,bottomSpacing:20,containerSelector:".ps-product__sticky",});if(A(".sticky-2").length>0){var K=new StickySidebar(".ps-product__sticky .sticky-2",{topSpacing:20,bottomSpacing:20,containerSelector:".ps-product__sticky",})}if(O>L){M.destroy();K.destroy()}}else{return false}}function G(){var K=A(".ps-accordion");K.find(".ps-accordion__content").hide();A(".ps-accordion.active").find(".ps-accordion__content").show();K.find(".ps-accordion__header").on("click",function(L){L.preventDefault();if(A(this).closest(".ps-accordion").hasClass("active")){A(this).closest(".ps-accordion").removeClass("active");A(this).closest(".ps-accordion").find(".ps-accordion__content").slideUp(350)}else{A(this).closest(".ps-accordion").addClass("active");A(this).closest(".ps-accordion").find(".ps-accordion__content").slideDown(350);A(this).closest(".ps-accordion").siblings(".ps-accordion").find(".ps-accordion__content").slideUp()}A(this).closest(".ps-accordion").siblings(".ps-accordion").removeClass("active");A(this).closest(".ps-accordion").siblings(".ps-accordion").find(".ps-accordion__content").slideUp()})}function x(){var K=A(".ps-progress");K.each(function(M){var L=A(this).data("value");A(this).find("span").css({width:L+"%"})})}function p(){A(".ps-custom-scrollbar").each(function(){var K=A(this).data("height");A(this).slimScroll({height:K+"px",alwaysVisible:true,color:"#000000",size:"6px",railVisible:true,})})}function r(){A("select.ps-select").select2({placeholder:A(this).data("placeholder"),minimumResultsForSearch:-1})}function v(){var L=A(".ps-carousel__prev"),K=A(".ps-carousel__next");L.on("click",function(N){N.preventDefault();var M=A(this).attr("href");A(M).trigger("prev.owl.carousel",[1000])});K.on("click",function(N){N.preventDefault();var M=A(this).attr("href");A(M).trigger("next.owl.carousel",[1000])})}function d(){A(".ps-datepicker").datepicker()}A(window).on("load",function(){A("body").addClass("loaded");H()});A("#select-sorting-with-reload").change(function(){switch(A("#select-sorting-with-reload").val()){case A("#select-sorting-default").val():sortField="";direction="";break;case A("#select-sorting-date-new").val():sortField="id";direction="desc";break;case A("#select-sorting-price-asc").val():sortField="price";direction="asc";break;case A("#select-sorting-price-desc").val():sortField="price";direction="desc";break;default:sortField="";direction="";break}A("#pagination").twbsPagination("destroy");applyPagination()});A("#registerButton").on("click",function(K){K.preventDefault();console.log(createJSON());A.ajax({type:"POST",url:"/register",data:JSON.stringify(createJSON()),beforeSend:function(L){L.setRequestHeader("Content-type","application/json; charset=utf-8")}});A("#registerFormId").trigger("reset")});function I(){A(".form-group--number button").on("click",function(Q){var P=A(this).attr("class");var O=A(this).parents("tr");var N=A(this).parent().find("input.form-control");var K=N.val();if("up"===P){K++}else{if("down"===P){K--}}if(K<1){K=1}else{N.val(K);var M=O.find("input.product-price").val();var L=M*K;O.find("span.product-total-price").text(L);n();a(K,O.attr("data-productId"))}});A(".ps-table--shopping-cart .remove-product-from-cart").on("click",function(L){L.preventDefault();L.stopPropagation();var K=A(this).parents("tr");K.remove();J("DELETE","countProductsClass",K.attr("data-productId"));n()})}A("#buttonBuy").on("click",function(N){N.preventDefault();N.stopPropagation();if(A("#phoneNumberClient").val()!==""){var M,K=[];A(".ps-table--shopping-cart .product-cart-row").each(function(O){var R=A(this).find("td"),P=R.eq(4).find("input.product-id").val(),Q=R.eq(3).find("input.countOfProduct").val();K[O]={productId:P,count:Q}});M=JSON.stringify(K);if(JSON.stringify(M).length>8){var L={userId:0,nickName:A("#nickNameClient").val(),phone:A("#phoneNumberClient").val(),address:A("#addressClient").val(),ids:JSON.parse(M)};A.ajax({type:"POST",url:"/cart/buy",data:JSON.stringify(L),beforeSend:function(O){console.log("sending order...");O.setRequestHeader("Content-type","application/json; charset=utf-8");O.setRequestHeader("Accept","application/json")},success:function(){console.log("ok!")},error:function(){console.log("lol")},dataType:"json"});A.ajax({type:"DELETE",url:"/cart?product=",success:function(){console.log("ok all removed!")},error:function(){console.log("lol all not removed")}});A(location).attr("href","/index")}}else{console.log("phoneNumber is empty");A("#myModalBuy").modal("show")}});function l(){A(".product__action").on("click",function(L){L.preventDefault();L.stopPropagation();var K=A(this).attr("data-productId");J("PUT","countProductsClass",K);A("#multiplyButton").attr("disabled",true)})}A(document).ready(function(){A("#multiplyButton").click(function(){A("#myModal").modal("show")});A("#ps-product-rating").change(function(){A("#user-rating").val(document.getElementById("review-product-rating-box").selectedIndex)});A("#product-review-form").submit(function(K){K.preventDefault();var L={text:A("#review-product-text").val(),productId:document.getElementById("product-id").textContent,rating:document.getElementById("review-product-rating-box").selectedIndex,userName:A("#review-product-username").val()};A.ajax({type:"POST",url:"/review",data:JSON.stringify(L),beforeSend:function(M){M.setRequestHeader("Content-type","application/json; charset=utf-8");M.setRequestHeader("Accept","application/json");console.log(L)},processData:false,contentType:false,cache:false,timeout:1000000});A("#review-product-button").prop("disabled",true);A("#product-review-form")[0].reset();window.location.reload()})});function J(L,M,K){A.ajax({type:L,url:"/cart?product="+K,success:function(O){var R=A("."+M+"Mobile");var P=A("."+M);var Q=parseInt(P.text());var N=parseInt(R.text());if("added"===O){P.text(Q+1);R.text(N+1)}else{if("removed"===O){P.text(Q-1);R.text(N-1)}}}})}function a(L,K){A.ajax({type:"PUT",url:"/cart?product="+K+"&count="+L,dataType:"json"})}function n(){var K=0;A(".ps-table--shopping-cart .product-cart-row").each(function(O){var N=A(this).find("input.product-price").val();var M=A(this).find(".form-group--number input.form-control").val();K+=(N*M)});A("#cart-subtotal").text(K);var L=parseInt(A("#cart-shipping-price").text());K+=L;A("#cart-total-price").text(K)}function s(){A("#searchText").value===""?A("#searchButton").prop("disabled",true):A("#searchButton").prop("disabled",false);A("#searchTextMobile").value===""?A("#searchButtonMobile").prop("disabled",true):A("#searchButtonMobile").prop("disabled",false);A("#searchTextMobileMenu").value===""?A("#searchButtonMobileMenu").prop("disabled",true):A("#searchButtonMobileMenu").prop("disabled",false)}A(function(){w();m();o();q();i(".ps-masonry");E();g();y();c();C();k();D();t();u();B();e();j();b();h();F();G();x();p();r();v();d();A('[data-toggle="tooltip"]').tooltip();I();n();l();s()})})(jQuery);function successRegisterButton(){if(document.getElementById("username").value===""||document.getElementById("email").value===""||document.getElementById("password").value===""||document.getElementById("repeatPassword").value===""){document.getElementById("registerButton").disabled=true}else{document.getElementById("registerButton").disabled=false}}function successReviewButton(){if(document.getElementById("review-product-text").value===""||document.getElementById("review-product-rating-box").selectedIndex===0||document.getElementById("review-product-username").value===""){document.getElementById("review-product-button").disabled=true}else{document.getElementById("review-product-button").disabled=false}}function createJSON(){return{username:document.getElementById("username").value,email:document.getElementById("email").value,phoneNumber:document.getElementById("phoneNumber").value,password:document.getElementById("password").value,repeatPassword:document.getElementById("repeatPassword").value,}}function checkPassword(){var b=document.getElementById("password");var a=document.getElementById("passwordStatus");if(a&&!b.checkValidity()){a.classList.replace("input:valid+span:after","input:invalid+span:after");a.textContent="Заполните поле Пароль (минимум 6 символов) !";console.log("password1 is incorrect")}if(a&&b.checkValidity){a.classList.replace("input:invalid+span:after","input:valid+span:after");a.textContent="";console.log("password1 is ok")}}function comparePasswords(){var b=document.getElementById("password");var a=document.getElementById("repeatPassword");var c=document.getElementById("repeatPasswordStatus");if(b.value===a.value){c.classList.replace("input:invalid+span:after","input:valid+span:after");console.log("password2 is ok")}};